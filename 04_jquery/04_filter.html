<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>filter</title>
    <script src="./js/jquery-3.6.1.js"></script>
</head>
<body>
    
    <h1>filter</h1>
    <div>
        <p class="group1" id="p1">Helloworld1</p>
        <p class="group1" id="p2">Helloworld2</p>
        <p class="group2" id="p3">Helloworld3</p>
        <p class="group2" id="p4">Helloworld4</p>
        <p class="group1 group2" id="p5">Helloworld5</p>
    </div>
    <button id="btn1">filter</button>
    <button id="btn2">first |last</button>
    <button id="btn3">eq | end</button>
    <button id="btn4">not</button>

    <script>
    /**
     * 일부 getter 메소드를 제외하고는 , 모두 jquery 객체를 반환
     * -메소드를 연이어 호출가능하다. 메소드 chaining
     * 
     */    
    $(btn1).click(()=>{
        const $p = $("p");
        console.log($p);
        //filter selector
        console.log($p.css("color","hotpink")
        .filter(".group1")
        .css("text-decoration","underline")
        )

        //filter(callback) : callback함수 리턴값이 true인 요소만 남김.
        console.log(
            $p.filter((index,elem)=>{
                console.log(index,elem); 
                //innerHTML ->html(),innerText ->text()
            const html = $(elem).html();
            const num = Number(html.replace(/[^\d]/,"")); 
                return num %2 != 0;
            })
            .css("color","cyan")
        );

    })

    $(btn2).click(()=>{
        $("p").first().css("backgroundColor","springgreen")
        
        $("p").last().css("backgroundColor","red")
        
    })

    /**
     * eq(index)
     * end : 이전 jquery 객체를 반환
     */
    $(btn3).click(()=>{
        $("p").eq(1).css("fontSize","2em")
        // $("p").get(1).css("fontSize","2em")    js태그객체를 반환해서 jquery 사용 불가
        
        console.log($("p").eq(2).css("color","purple")
        .end().css("backgroundColor","gray")
        );
    })
    /**
     * not(selector) 메소드
     *
     * :not(selector) 선택자
     */
    $(btn4).click(()=>{
    console.log(
        $("p").not(".group1.group2").css("textDecoration","underline")
    );
    
    })
    </script>



</body>
</html>